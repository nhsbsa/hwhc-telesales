{% extends 'layout-fullscreen.html' %}

{% set pageName = 'Reissue certificate' %}

{% block beforeContent %}
 {{ backLink({
    href: 'javascript:history.go(-1)',
    text: 'Back'
  }) }}
{% endblock %}

{% block content %}

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">
      <h1 class="nhsuk-heading-l">{{ pageName }}</h1>
    </div>
  </div>

  <div class="nhsuk-grid-row">

    <div class="nhsuk-grid-column-two-thirds">

      {{ card({
        heading: "Certificate details",
        headingLevel: "2",
        headingClasses: "nhsuk-heading-s",
        description: summaryList({
          classes: "summary-list--single-line",
          rows: [
            {
              key: {
                text: "Reference"
              },
              value: {
                text: "64 863 492 290"
              }
            },
            {
              key: {
                text: "Type"
              },
              value: {
                html: tag({
                  text: "MATEX",
                  classes: "nhsuk-tag--green"
                })
              }
            },
            {
              key: {
                text: "Status"
              },
              value: {
                html: "Active"
              }
            },
            {
              key: {
                text: "Channel"
              },
              value: {
                html: "Paper"
              }
            },
            {
              key: { 
                text: "Fulfilment" 
              },
              value: {
                classes: "fulfilment-value",
                html: radios({
                  idPrefix: "example-inline",
                  name: "exampleInline",
                  classes: "nhsuk-radios--inline summary-list-radios",
                  items: [
                    { 
                      value: "email", 
                      text: "Email"
                    },
                    { 
                      value: "post", 
                      text: "Post" ,
                      checked: true
                    }
                  ]
                })
              }
            },
            {
              key: {
                text: "Start date"
              },
              value: {
                html: "15 October 2025"
              }
            },
            {
              key: {
                text: "Expiry date"
              },
              value: {
                html: "14 October 2026"
              }
            },
            {
              key: {
                text: "Application date"
              },
              value: {
                html: "15 October 2025"
              }
            },
            {
              classes: "nhsuk-summary-list__row--no-border",
              key: { 
                text: "Notes" 
              },
              value:
              { 
                html: textarea ({
                  id: "notes",
                  name: "notes"
                })
              }
            }
          ]
        })
      }) }}
    
    </div>

    


    <div class="nhsuk-grid-column-two-thirds">
      {{ card({
        heading: "Personal details",
        headingLevel: "2",
        headingClasses: "nhsuk-heading-s",
        description: summaryList({
          classes: "summary-list--single-line",
          rows: [
          {
            key: { 
              text: "Last name"
            },
            value:
            { 
              html: input ({
                id: "last-name",
                name: "lastName",
                value: "Baker"
              })
            }
          },
          {
            key: { 
              text: "First name"
            },
            value: 
            { 
              html: input ({
                id: "first-name",
                name: "firstName",
                value: "Poppy"
              })
            }
          },
            {
                  key: { 
                    text: "Address line 1" 
                  },
                  value:
                  { 
                    html: input ({
                      id: "address-line-1",
                      name: "addressLineOne",
                      value: "4 Brookhill"
                    })
                  }
                },
                {
                  key: { 
                    text: "Address line 2" 
                  },
                  value:
                  { 
                    html: input ({
                      id: "address-line-2",
                      name: "addressLineTwo",
                      value: ""
                    })
                  }
                },
                {
                  key: { 
                    text: "Town or city" 
                  },
                  value:
                  { 
                    html: input ({
                      id: "town",
                      name: "town",
                      classes: "nhsuk-u-width-two-thirds",
                      value: "Stevenage"
                    })
                  }
                },
                {
                  key: { 
                  text: "Postcode" 
                  },
                  value: 
                  {
                    html: input({
                          id: "postcode",
                          name: "postcode",
                          classes: "nhsuk-input--width-5",
                          value: "SY2 8RR"
                        })
                  }
                },
                {
                  key: { 
                    text: "Date of birth" 
                  },
                  value: { 
                    html: input({
                      suffix: "(ddmmyy)",
                      classes: "nhsuk-input--width-5",
                      value: "241297"
                    })
                  }
                },
                {
                  key: { 
                    text: "Telephone number" 
                  },
                  value:
                  { 
                    html: input ({
                      id: "phone-number",
                      name: "phone-number",
                      classes: "nhsuk-input--width-10",
                      value: "07700 123 456"
                    })
                  }
                },
                {
                  key: { 
                    text: "Email address" 
                  },
                  value:
                  { 
                    html: input ({
                      id: "email",
                      name: "email",
                      value: ""
                    })
                  }
                },
                {
                  key: { 
                    text: "Child's due or birth date" 
                  },
                  value: { 
                    html: input({
                      suffix: "(ddmmyy)",
                      classes: "nhsuk-input--width-5",
                      value: "151025"
                    })
                  }
                },
                {
                  key: { 
                    text: "NHS number" 
                  },
                  value:
                  { 
                    html: input ({
                      id: "nhs-number",
                      name: "nhs-number",
                      classes: "nhsuk-input--width-10",
                      value: "1234567890"
                    })
                  }
                }
          ]
        })

      }) }}
    </div>

</div>

<div class="nhsuk-grid-row-buttons">

    {{ button({
      text: 'Submit',
      href: "reissue-complete-paper"
    }) }}

    {{ button
      ({ classes: "nhsuk-button--secondary", 
        text: 'Cancel',
        href: "../search"
      }) 
    }}

</div>


    <!-- Summary list card styling -->
    <style>
      /* --------------------------------------------------- */
      /* Base (default) layout: applies to 426px–1023px & >1024px */
      /* --------------------------------------------------- */

      .summary-list--single-line {
        margin-bottom: 0;
      }

      .summary-list--single-line .nhsuk-summary-list__row {
        display: flex;
        flex-wrap: nowrap;
        align-items: flex-start;
      }

      .summary-list--single-line .nhsuk-summary-list__key {
        flex: 0 0 auto;
        white-space: nowrap;
        margin-right: 5rem;
      }

      .summary-list--single-line .nhsuk-summary-list__value {
        flex: 1 1 auto;
        min-width: 0;
        white-space: normal;
        overflow-wrap: anywhere;
        word-break: break-word;
      }


      /* --------------------------------------------------- */
      /* STACKING BREAKPOINT 1 — small screens (≤425px)      */
      /* --------------------------------------------------- */
      @media (max-width: 425px) {

        .summary-list--single-line .nhsuk-summary-list__row {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.25rem;
          padding-bottom: 0.5rem;
        }

        .summary-list--single-line .nhsuk-summary-list__key {
          margin: 0;
        }
      }

      
      /* --------------------------------------------------- */
      /* Same height columns — Desktop only */
      /* --------------------------------------------------- */
      @media (min-width: 1024px) {

          .nhsuk-grid-row {
            display: flex ;
            align-items: stretch;
          }

          .nhsuk-grid-row > .nhsuk-grid-column-one-third {
            display: flex;
            flex-direction: column;
          }

          .nhsuk-grid-row .nhsuk-card {
            display: flex;
            flex-direction: column;
            height: 100%;
          }

          .nhsuk-grid-row .nhsuk-card__content {
            flex: 1 1 auto;
          }

          .nhsuk-grid-row-buttons {
            margin-top: 2rem;

          }

          .nhsuk-button--secondary {
            margin-left: 1rem;
          }

          .summary-list-radios {
            display: flex;
            white-space: nowrap;
          }

        }


    </style>


{% endblock %}