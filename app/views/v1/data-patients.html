{% set patientData = [{"firstName":"Olivia","lastName":"Smith","nhsNumber":"563 313 240","certificateType":"matex","certificateReference":"64 346 055 475","startDate":"12 January 2025","endDate":"12 October 2026","status":"live"},{"firstName":"Amelia","lastName":"Jones","nhsNumber":"569 066 784","certificateType":"matex","certificateReference":"14 944 235 325","startDate":"22 February 2025","endDate":"22 November 2026","status":"live"},{"firstName":"Isla","lastName":"Taylor","nhsNumber":"582 253 254","certificateType":"matex","certificateReference":"06 573 525 068","startDate":"17 November 2024","endDate":"17 August 2026","status":"pending"},{"firstName":"Ava","lastName":"Brown","nhsNumber":"113 491 354","certificateType":"matex","certificateReference":"82 716 400 920","startDate":"27 January 2025","endDate":"27 October 2026","status":"pending"},{"firstName":"Emily","lastName":"Williams","nhsNumber":"308 410 467","certificateType":"hrtppc","certificateReference":"03 868 055 923","startDate":"16 March 2025","endDate":"16 December 2026","status":"pending"},{"firstName":"Sophia","lastName":"Wilson","nhsNumber":"149 129 876","certificateType":"hrtppc","certificateReference":"82 203 309 980","startDate":"1 January 2025","endDate":"1 October 2026","status":"live"},{"firstName":"Mia","lastName":"Davies","nhsNumber":"566 924 421","certificateType":"matex","certificateReference":"09 826 432 972","startDate":"3 February 2025","endDate":"3 November 2026","status":"pending"},{"firstName":"Ella","lastName":"Evans","nhsNumber":"024 683 030","certificateType":"hrtppc","certificateReference":"43 009 167 352","startDate":"13 December 2024","endDate":"13 September 2026","status":"pending"},{"firstName":"Grace","lastName":"Thomas","nhsNumber":"027 106 121","certificateType":"hrtppc","certificateReference":"99 146 945 312","startDate":"10 February 2025","endDate":"10 November 2026","status":"live"},{"firstName":"Lily","lastName":"Roberts","nhsNumber":"838 798 977","certificateType":"hrtppc","certificateReference":"77 827 220 269","startDate":"25 November 2024","endDate":"25 August 2026","status":"pending"},{"firstName":"Freya","lastName":"Johnson","nhsNumber":"317 620 888","certificateType":"hrtppc","certificateReference":"08 976 243 708","startDate":"13 January 2025","endDate":"13 October 2026","status":"pending"},{"firstName":"Charlotte","lastName":"Lewis","nhsNumber":"194 915 710","certificateType":"hrtppc","certificateReference":"54 696 752 973","startDate":"29 November 2024","endDate":"29 August 2026","status":"pending"},{"firstName":"Isabella","lastName":"Walker","nhsNumber":"166 447 578","certificateType":"matex","certificateReference":"27 978 573 993","startDate":"4 February 2025","endDate":"4 November 2026","status":"live"},{"firstName":"Daisy","lastName":"Hall","nhsNumber":"802 665 535","certificateType":"matex","certificateReference":"53 156 882 467","startDate":"29 January 2025","endDate":"29 October 2026","status":"pending"},{"firstName":"Evie","lastName":"Clarke","nhsNumber":"025 426 427","certificateType":"matex","certificateReference":"64 380 666 041","startDate":"24 April 2025","endDate":"24 January 2027","status":"pending"},{"firstName":"Phoebe","lastName":"Allen","nhsNumber":"818 194 516","certificateType":"hrtppc","certificateReference":"82 698 445 279","startDate":"8 March 2025","endDate":"8 December 2026","status":"pending"},{"firstName":"Sophie","lastName":"Young","nhsNumber":"045 371 297","certificateType":"matex","certificateReference":"41 767 705 940","startDate":"22 February 2025","endDate":"22 November 2026","status":"live"},{"firstName":"Harper","lastName":"King","nhsNumber":"352 676 010","certificateType":"hrtppc","certificateReference":"71 493 106 996","startDate":"26 November 2024","endDate":"26 August 2026","status":"live"},{"firstName":"Millie","lastName":"Wright","nhsNumber":"990 190 088","certificateType":"hrtppc","certificateReference":"24 634 852 332","startDate":"30 December 2024","endDate":"30 September 2026","status":"pending"},{"firstName":"Ella-Rose","lastName":"Green","nhsNumber":"713 115 900","certificateType":"hrtppc","certificateReference":"70 748 577 298","startDate":"27 December 2024","endDate":"27 September 2026","status":"pending"},{"firstName":"Poppy","lastName":"Baker","nhsNumber":"618 510 794","certificateType":"hrtppc","certificateReference":"87 941 519 278","startDate":"3 May 2025","endDate":"3 February 2027","status":"live"},{"firstName":"Ruby","lastName":"Adams","nhsNumber":"205 359 814","certificateType":"hrtppc","certificateReference":"02 550 450 933","startDate":"25 March 2025","endDate":"25 December 2026","status":"pending"},{"firstName":"Chloe","lastName":"Mitchell","nhsNumber":"761 445 474","certificateType":"hrtppc","certificateReference":"44 184 031 187","startDate":"10 January 2025","endDate":"10 October 2026","status":"pending"},{"firstName":"Sienna","lastName":"Turner","nhsNumber":"420 996 452","certificateType":"matex","certificateReference":"87 975 770 884","startDate":"3 April 2025","endDate":"3 January 2027","status":"pending"},{"firstName":"Willow","lastName":"Carter","nhsNumber":"445 881 362","certificateType":"matex","certificateReference":"76 308 563 684","startDate":"8 May 2025","endDate":"8 February 2027","status":"pending"},{"firstName":"Jessica","lastName":"Morris","nhsNumber":"701 362 384","certificateType":"hrtppc","certificateReference":"74 936 784 443","startDate":"20 April 2025","endDate":"20 January 2027","status":"pending"},{"firstName":"Matilda","lastName":"Hughes","nhsNumber":"684 278 938","certificateType":"hrtppc","certificateReference":"25 458 639 018","startDate":"3 March 2025","endDate":"3 December 2026","status":"pending"},{"firstName":"Elsie","lastName":"Ward","nhsNumber":"619 282 096","certificateType":"hrtppc","certificateReference":"47 760 395 828","startDate":"8 January 2025","endDate":"8 October 2026","status":"live"},{"firstName":"Rosie","lastName":"Price","nhsNumber":"391 355 213","certificateType":"hrtppc","certificateReference":"43 502 735 090","startDate":"6 April 2025","endDate":"6 January 2027","status":"pending"},{"firstName":"Aria","lastName":"Cooper","nhsNumber":"289 564 876","certificateType":"matex","certificateReference":"67 789 492 600","startDate":"4 March 2025","endDate":"4 December 2026","status":"live"},{"firstName":"Layla","lastName":"Bailey","nhsNumber":"488 474 474","certificateType":"matex","certificateReference":"26 998 491 319","startDate":"9 March 2025","endDate":"9 December 2026","status":"pending"},{"firstName":"Luna","lastName":"Parker","nhsNumber":"462 731 428","certificateType":"hrtppc","certificateReference":"71 490 284 373","startDate":"6 March 2025","endDate":"6 December 2026","status":"pending"},{"firstName":"Hannah","lastName":"Phillips","nhsNumber":"166 463 755","certificateType":"hrtppc","certificateReference":"14 054 842 056","startDate":"8 December 2024","endDate":"8 September 2026","status":"live"},{"firstName":"Zara","lastName":"Bennett","nhsNumber":"547 930 220","certificateType":"matex","certificateReference":"20 139 312 277","startDate":"24 November 2024","endDate":"24 August 2026","status":"live"},{"firstName":"Florence","lastName":"Cox","nhsNumber":"849 589 750","certificateType":"matex","certificateReference":"94 477 995 115","startDate":"5 May 2025","endDate":"5 February 2027","status":"live"},{"firstName":"Maya","lastName":"Richardson","nhsNumber":"765 493 904","certificateType":"matex","certificateReference":"07 520 392 838","startDate":"26 November 2024","endDate":"26 August 2026","status":"pending"},{"firstName":"Esme","lastName":"Gray","nhsNumber":"215 682 796","certificateType":"hrtppc","certificateReference":"81 809 508 598","startDate":"28 December 2024","endDate":"28 September 2026","status":"pending"},{"firstName":"Ivy","lastName":"Ross","nhsNumber":"983 425 912","certificateType":"matex","certificateReference":"95 141 893 360","startDate":"19 February 2025","endDate":"19 November 2026","status":"live"},{"firstName":"Arabella","lastName":"Bell","nhsNumber":"369 581 159","certificateType":"hrtppc","certificateReference":"52 384 901 895","startDate":"6 April 2025","endDate":"6 January 2027","status":"pending"},{"firstName":"Evelyn","lastName":"Cook","nhsNumber":"294 249 637","certificateType":"matex","certificateReference":"41 951 467 514","startDate":"12 December 2024","endDate":"12 September 2026","status":"pending"},{"firstName":"Thea","lastName":"Watson","nhsNumber":"246 895 191","certificateType":"hrtppc","certificateReference":"05 980 089 727","startDate":"18 December 2024","endDate":"18 September 2026","status":"live"},{"firstName":"Alice","lastName":"Sanders","nhsNumber":"803 333 228","certificateType":"matex","certificateReference":"00 501 421 559","startDate":"18 November 2024","endDate":"18 August 2026","status":"pending"},{"firstName":"Emma","lastName":"Harrison","nhsNumber":"521 878 925","certificateType":"hrtppc","certificateReference":"69 172 879 805","startDate":"15 April 2025","endDate":"15 January 2027","status":"pending"},{"firstName":"Lottie","lastName":"Coleman","nhsNumber":"046 424 911","certificateType":"hrtppc","certificateReference":"12 400 390 880","startDate":"24 March 2025","endDate":"24 December 2026","status":"live"},{"firstName":"Amber","lastName":"Murphy","nhsNumber":"642 423 292","certificateType":"matex","certificateReference":"55 437 183 654","startDate":"17 March 2025","endDate":"17 December 2026","status":"pending"},{"firstName":"Scarlett","lastName":"Graham","nhsNumber":"121 174 833","certificateType":"hrtppc","certificateReference":"18 184 115 531","startDate":"30 December 2024","endDate":"30 September 2026","status":"live"},{"firstName":"Bonnie","lastName":"Stevens","nhsNumber":"682 445 133","certificateType":"hrtppc","certificateReference":"00 773 961 183","startDate":"12 January 2025","endDate":"12 October 2026","status":"pending"},{"firstName":"Imogen","lastName":"Simpson","nhsNumber":"262 461 813","certificateType":"hrtppc","certificateReference":"98 882 898 961","startDate":"15 February 2025","endDate":"15 November 2026","status":"pending"},{"firstName":"Harriet","lastName":"Butler","nhsNumber":"968 297 319","certificateType":"matex","certificateReference":"10 139 134 425","startDate":"2 January 2025","endDate":"2 October 2026","status":"pending"},{"firstName":"Eleanor","lastName":"Chapman","nhsNumber":"651 994 150","certificateType":"matex","certificateReference":"65 016 957 378","startDate":"7 January 2025","endDate":"7 October 2026","status":"pending"},{"firstName":"Aisha","lastName":"Ali","nhsNumber":"110 253 155","certificateType":"hrtppc","certificateReference":"76 502 680 874","startDate":"24 February 2025","endDate":"24 November 2026","status":"pending"},{"firstName":"Sofia","lastName":"Hussain","nhsNumber":"448 124 203","certificateType":"matex","certificateReference":"02 723 737 793","startDate":"18 March 2025","endDate":"18 December 2026","status":"pending"},{"firstName":"Amira","lastName":"Khan","nhsNumber":"835 259 049","certificateType":"hrtppc","certificateReference":"96 834 259 130","startDate":"18 January 2025","endDate":"18 October 2026","status":"live"},{"firstName":"Leah","lastName":"Begum","nhsNumber":"306 348 511","certificateType":"matex","certificateReference":"34 930 913 718","startDate":"12 May 2025","endDate":"12 February 2027","status":"live"},{"firstName":"Niamh","lastName":"O’Connor","nhsNumber":"009 399 991","certificateType":"matex","certificateReference":"88 044 374 567","startDate":"8 February 2025","endDate":"8 November 2026","status":"pending"},{"firstName":"Aoife","lastName":"Kelly","nhsNumber":"120 245 498","certificateType":"hrtppc","certificateReference":"42 114 171 424","startDate":"7 May 2025","endDate":"7 February 2027","status":"live"},{"firstName":"Erin","lastName":"McCarthy","nhsNumber":"960 389 375","certificateType":"hrtppc","certificateReference":"56 960 327 341","startDate":"13 February 2025","endDate":"13 November 2026","status":"pending"},{"firstName":"Orla","lastName":"Doyle","nhsNumber":"842 663 125","certificateType":"matex","certificateReference":"53 306 073 533","startDate":"31 March 2025","endDate":"31 December 2026","status":"pending"},{"firstName":"Cerys","lastName":"Griffiths","nhsNumber":"661 080 972","certificateType":"matex","certificateReference":"09 979 260 780","startDate":"15 March 2025","endDate":"15 December 2026","status":"live"},{"firstName":"Megan","lastName":"Rees","nhsNumber":"947 122 523","certificateType":"matex","certificateReference":"46 825 752 474","startDate":"25 February 2025","endDate":"25 November 2026","status":"pending"},{"firstName":"Ffion","lastName":"Evans","nhsNumber":"448 195 571","certificateType":"matex","certificateReference":"67 488 705 448","startDate":"5 May 2025","endDate":"5 February 2027","status":"live"},{"firstName":"Eilidh","lastName":"MacDonald","nhsNumber":"486 791 143","certificateType":"hrtppc","certificateReference":"81 536 029 360","startDate":"18 November 2024","endDate":"18 August 2026","status":"live"},{"firstName":"Skye","lastName":"Fraser","nhsNumber":"513 740 546","certificateType":"hrtppc","certificateReference":"16 907 949 795","startDate":"26 March 2025","endDate":"26 December 2026","status":"pending"},{"firstName":"Maisie","lastName":"Armstrong","nhsNumber":"012 105 707","certificateType":"hrtppc","certificateReference":"61 442 261 969","startDate":"28 November 2024","endDate":"28 August 2026","status":"live"},{"firstName":"Penelope","lastName":"Hunter","nhsNumber":"921 640 984","certificateType":"hrtppc","certificateReference":"24 589 645 783","startDate":"10 April 2025","endDate":"10 January 2027","status":"pending"},{"firstName":"Clara","lastName":"Lawrence","nhsNumber":"898 667 572","certificateType":"hrtppc","certificateReference":"00 790 322 478","startDate":"11 March 2025","endDate":"11 December 2026","status":"live"},{"firstName":"Beatrice","lastName":"Spencer","nhsNumber":"462 013 903","certificateType":"hrtppc","certificateReference":"33 819 682 429","startDate":"3 December 2024","endDate":"3 September 2026","status":"pending"},{"firstName":"Nancy","lastName":"Rogers","nhsNumber":"187 248 328","certificateType":"matex","certificateReference":"37 329 052 246","startDate":"4 December 2024","endDate":"4 September 2026","status":"pending"},{"firstName":"Annabelle","lastName":"Watts","nhsNumber":"435 800 270","certificateType":"matex","certificateReference":"08 564 910 673","startDate":"22 March 2025","endDate":"22 December 2026","status":"live"},{"firstName":"Heidi","lastName":"Henderson","nhsNumber":"016 404 108","certificateType":"hrtppc","certificateReference":"19 487 435 400","startDate":"9 December 2024","endDate":"9 September 2026","status":"pending"},{"firstName":"Rose","lastName":"Palmer","nhsNumber":"119 993 829","certificateType":"matex","certificateReference":"29 247 811 816","startDate":"30 March 2025","endDate":"30 December 2026","status":"live"},{"firstName":"Lara","lastName":"Nicholson","nhsNumber":"174 303 919","certificateType":"hrtppc","certificateReference":"91 953 181 161","startDate":"30 April 2025","endDate":"30 January 2027","status":"live"},{"firstName":"Julia","lastName":"Gardner","nhsNumber":"570 263 551","certificateType":"hrtppc","certificateReference":"45 158 885 202","startDate":"1 April 2025","endDate":"1 January 2027","status":"pending"},{"firstName":"Ada","lastName":"Newton","nhsNumber":"884 578 269","certificateType":"hrtppc","certificateReference":"97 715 377 385","startDate":"11 December 2024","endDate":"11 September 2026","status":"pending"},{"firstName":"Summer","lastName":"Reed","nhsNumber":"991 982 866","certificateType":"hrtppc","certificateReference":"30 105 535 885","startDate":"13 November 2024","endDate":"13 August 2026","status":"live"},{"firstName":"Victoria","lastName":"Harvey","nhsNumber":"387 899 261","certificateType":"matex","certificateReference":"54 901 136 163","startDate":"5 December 2024","endDate":"5 September 2026","status":"pending"},{"firstName":"Maria","lastName":"Fernandez","nhsNumber":"492 341 923","certificateType":"hrtppc","certificateReference":"70 380 398 442","startDate":"7 January 2025","endDate":"7 October 2026","status":"live"},{"firstName":"Elena","lastName":"Silva","nhsNumber":"153 890 001","certificateType":"matex","certificateReference":"56 170 231 732","startDate":"15 December 2024","endDate":"15 September 2026","status":"live"},{"firstName":"Leila","lastName":"Patel","nhsNumber":"024 223 135","certificateType":"matex","certificateReference":"81 117 181 615","startDate":"15 December 2024","endDate":"15 September 2026","status":"live"},{"firstName":"Fatima","lastName":"Iqbal","nhsNumber":"968 742 174","certificateType":"matex","certificateReference":"82 992 564 382","startDate":"24 November 2024","endDate":"24 August 2026","status":"pending"},{"firstName":"Jasmine","lastName":"Ahmed","nhsNumber":"029 015 050","certificateType":"matex","certificateReference":"07 358 414 541","startDate":"23 December 2024","endDate":"23 September 2026","status":"pending"},{"firstName":"Nadia","lastName":"Rashid","nhsNumber":"780 050 292","certificateType":"matex","certificateReference":"77 114 546 720","startDate":"31 December 2024","endDate":"1 October 2026","status":"pending"},{"firstName":"Tara","lastName":"Paterson","nhsNumber":"915 937 389","certificateType":"matex","certificateReference":"69 566 623 719","startDate":"25 January 2025","endDate":"25 October 2026","status":"live"},{"firstName":"Bethany","lastName":"Foster","nhsNumber":"954 519 333","certificateType":"hrtppc","certificateReference":"21 395 550 198","startDate":"24 February 2025","endDate":"24 November 2026","status":"pending"},{"firstName":"Lauren","lastName":"Fox","nhsNumber":"095 838 055","certificateType":"matex","certificateReference":"93 525 052 624","startDate":"29 March 2025","endDate":"29 December 2026","status":"pending"},{"firstName":"Georgia","lastName":"Grant","nhsNumber":"662 361 914","certificateType":"matex","certificateReference":"46 217 420 426","startDate":"6 December 2024","endDate":"6 September 2026","status":"live"},{"firstName":"Abigail","lastName":"Murray","nhsNumber":"916 914 003","certificateType":"matex","certificateReference":"07 742 427 092","startDate":"5 February 2025","endDate":"5 November 2026","status":"live"},{"firstName":"Ella-May","lastName":"West","nhsNumber":"383 864 717","certificateType":"hrtppc","certificateReference":"81 796 349 209","startDate":"23 April 2025","endDate":"23 January 2027","status":"pending"},{"firstName":"Robyn","lastName":"Matthews","nhsNumber":"850 288 176","certificateType":"hrtppc","certificateReference":"92 828 927 971","startDate":"6 April 2025","endDate":"6 January 2027","status":"pending"},{"firstName":"Kayla","lastName":"Holmes","nhsNumber":"011 768 636","certificateType":"matex","certificateReference":"94 773 586 084","startDate":"25 March 2025","endDate":"25 December 2026","status":"live"},{"firstName":"Lydia","lastName":"Walsh","nhsNumber":"157 602 218","certificateType":"matex","certificateReference":"29 161 147 576","startDate":"21 February 2025","endDate":"21 November 2026","status":"pending"},{"firstName":"Alexandra","lastName":"Page","nhsNumber":"077 485 752","certificateType":"hrtppc","certificateReference":"30 265 181 152","startDate":"11 March 2025","endDate":"11 December 2026","status":"pending"},{"firstName":"Natalie","lastName":"Jordan","nhsNumber":"470 660 264","certificateType":"matex","certificateReference":"71 698 335 530","startDate":"10 April 2025","endDate":"10 January 2027","status":"pending"},{"firstName":"Beth","lastName":"Barrett","nhsNumber":"014 243 880","certificateType":"matex","certificateReference":"62 670 184 612","startDate":"6 December 2024","endDate":"6 September 2026","status":"pending"},{"firstName":"Mollie","lastName":"Hayes","nhsNumber":"268 019 503","certificateType":"hrtppc","certificateReference":"42 735 383 528","startDate":"7 December 2024","endDate":"7 September 2026","status":"pending"},{"firstName":"Francesca","lastName":"Cunningham","nhsNumber":"942 535 421","certificateType":"matex","certificateReference":"13 085 790 455","startDate":"24 April 2025","endDate":"24 January 2027","status":"pending"},{"firstName":"Amelie","lastName":"Barber","nhsNumber":"215 689 122","certificateType":"matex","certificateReference":"11 496 449 748","startDate":"10 March 2025","endDate":"10 December 2026","status":"live"},{"firstName":"Lucia","lastName":"Knight","nhsNumber":"302 491 396","certificateType":"hrtppc","certificateReference":"42 560 601 866","startDate":"8 December 2024","endDate":"8 September 2026","status":"pending"},{"firstName":"Eden","lastName":"Parsons","nhsNumber":"954 682 655","certificateType":"matex","certificateReference":"55 531 223 579","startDate":"6 March 2025","endDate":"6 December 2026","status":"live"},{"firstName":"Tilly","lastName":"Bates","nhsNumber":"779 567 543","certificateType":"matex","certificateReference":"67 785 809 796","startDate":"24 January 2025","endDate":"24 October 2026","status":"pending"},{"firstName":"Holly","lastName":"Day","nhsNumber":"065 293 971","certificateType":"hrtppc","certificateReference":"20 142 391 962","startDate":"15 December 2024","endDate":"15 September 2026","status":"pending"},{"firstName":"Indie","lastName":"Francis","nhsNumber":"491 670 231","certificateType":"matex","certificateReference":"08 934 832 154","startDate":"21 November 2024","endDate":"21 August 2026","status":"live"},{"firstName":"Hope","lastName":"Burton","nhsNumber":"608 925 923","certificateType":"matex","certificateReference":"23 625 981 657","startDate":"5 January 2025","endDate":"5 October 2026","status":"pending"}] %}

{% extends 'layout.html' %}

{% set pageName = 'Fake patient data' %}

{% block content %}

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

          <h1 class="nhsuk-heading-l">{{ pageName }}</h1>

          {{ table({
            panel: false,
            caption: 'Exemptions',
            firstCellIsHeader: false,
            responsive: true,
            head: [
              { text: 'Name' },
              { text: 'Exemption' },
              { text: 'Status' },
              { text: 'Reference' },
              { text: 'End date' }
            ],
            rows: patientData | getTableRows
          }) }}

          {{ pagination( '' | getPaginationLinks ) }}


          <p id="certificateTypes" class="nhsuk-u-visually-hidden">{% for type in data[version].certificateTypes %}{% if loop.index0 !== 0 %},{% endif %}{{ type }}{% endfor %}</p>

          <script>

            const DataGenerator = (function(){

              //
              // NAMES
              //
              const names = [
                { firstName: 'Olivia', lastName: 'Smith' },
                { firstName: 'Amelia', lastName: 'Jones' },
                { firstName: 'Isla', lastName: 'Taylor' },
                { firstName: 'Ava', lastName: 'Brown' },
                { firstName: 'Emily', lastName: 'Williams' },
                { firstName: 'Sophia', lastName: 'Wilson' },
                { firstName: 'Mia', lastName: 'Davies' },
                { firstName: 'Ella', lastName: 'Evans' },
                { firstName: 'Grace', lastName: 'Thomas' },
                { firstName: 'Lily', lastName: 'Roberts' },
                { firstName: 'Freya', lastName: 'Johnson' },
                { firstName: 'Charlotte', lastName: 'Lewis' },
                { firstName: 'Isabella', lastName: 'Walker' },
                { firstName: 'Daisy', lastName: 'Hall' },
                { firstName: 'Evie', lastName: 'Clarke' },
                { firstName: 'Phoebe', lastName: 'Allen' },
                { firstName: 'Sophie', lastName: 'Young' },
                { firstName: 'Harper', lastName: 'King' },
                { firstName: 'Millie', lastName: 'Wright' },
                { firstName: 'Ella-Rose', lastName: 'Green' },
                { firstName: 'Poppy', lastName: 'Baker' },
                { firstName: 'Ruby', lastName: 'Adams' },
                { firstName: 'Chloe', lastName: 'Mitchell' },
                { firstName: 'Sienna', lastName: 'Turner' },
                { firstName: 'Willow', lastName: 'Carter' },
                { firstName: 'Jessica', lastName: 'Morris' },
                { firstName: 'Matilda', lastName: 'Hughes' },
                { firstName: 'Elsie', lastName: 'Ward' },
                { firstName: 'Rosie', lastName: 'Price' },
                { firstName: 'Aria', lastName: 'Cooper' },
                { firstName: 'Layla', lastName: 'Bailey' },
                { firstName: 'Luna', lastName: 'Parker' },
                { firstName: 'Hannah', lastName: 'Phillips' },
                { firstName: 'Zara', lastName: 'Bennett' },
                { firstName: 'Florence', lastName: 'Cox' },
                { firstName: 'Maya', lastName: 'Richardson' },
                { firstName: 'Esme', lastName: 'Gray' },
                { firstName: 'Ivy', lastName: 'Ross' },
                { firstName: 'Arabella', lastName: 'Bell' },
                { firstName: 'Evelyn', lastName: 'Cook' },
                { firstName: 'Thea', lastName: 'Watson' },
                { firstName: 'Alice', lastName: 'Sanders' },
                { firstName: 'Emma', lastName: 'Harrison' },
                { firstName: 'Lottie', lastName: 'Coleman' },
                { firstName: 'Amber', lastName: 'Murphy' },
                { firstName: 'Scarlett', lastName: 'Graham' },
                { firstName: 'Bonnie', lastName: 'Stevens' },
                { firstName: 'Imogen', lastName: 'Simpson' },
                { firstName: 'Harriet', lastName: 'Butler' },
                { firstName: 'Eleanor', lastName: 'Chapman' },
                { firstName: 'Aisha', lastName: 'Ali' },
                { firstName: 'Sofia', lastName: 'Hussain' },
                { firstName: 'Amira', lastName: 'Khan' },
                { firstName: 'Leah', lastName: 'Begum' },
                { firstName: 'Niamh', lastName: 'O’Connor' },
                { firstName: 'Aoife', lastName: 'Kelly' },
                { firstName: 'Erin', lastName: 'McCarthy' },
                { firstName: 'Orla', lastName: 'Doyle' },
                { firstName: 'Cerys', lastName: 'Griffiths' },
                { firstName: 'Megan', lastName: 'Rees' },
                { firstName: 'Ffion', lastName: 'Evans' },
                { firstName: 'Eilidh', lastName: 'MacDonald' },
                { firstName: 'Skye', lastName: 'Fraser' },
                { firstName: 'Maisie', lastName: 'Armstrong' },
                { firstName: 'Penelope', lastName: 'Hunter' },
                { firstName: 'Clara', lastName: 'Lawrence' },
                { firstName: 'Beatrice', lastName: 'Spencer' },
                { firstName: 'Nancy', lastName: 'Rogers' },
                { firstName: 'Annabelle', lastName: 'Watts' },
                { firstName: 'Heidi', lastName: 'Henderson' },
                { firstName: 'Rose', lastName: 'Palmer' },
                { firstName: 'Lara', lastName: 'Nicholson' },
                { firstName: 'Julia', lastName: 'Gardner' },
                { firstName: 'Ada', lastName: 'Newton' },
                { firstName: 'Summer', lastName: 'Reed' },
                { firstName: 'Victoria', lastName: 'Harvey' },
                { firstName: 'Maria', lastName: 'Fernandez' },
                { firstName: 'Elena', lastName: 'Silva' },
                { firstName: 'Leila', lastName: 'Patel' },
                { firstName: 'Fatima', lastName: 'Iqbal' },
                { firstName: 'Jasmine', lastName: 'Ahmed' },
                { firstName: 'Nadia', lastName: 'Rashid' },
                { firstName: 'Tara', lastName: 'Paterson' },
                { firstName: 'Bethany', lastName: 'Foster' },
                { firstName: 'Lauren', lastName: 'Fox' },
                { firstName: 'Georgia', lastName: 'Grant' },
                { firstName: 'Abigail', lastName: 'Murray' },
                { firstName: 'Ella-May', lastName: 'West' },
                { firstName: 'Robyn', lastName: 'Matthews' },
                { firstName: 'Kayla', lastName: 'Holmes' },
                { firstName: 'Lydia', lastName: 'Walsh' },
                { firstName: 'Alexandra', lastName: 'Page' },
                { firstName: 'Natalie', lastName: 'Jordan' },
                { firstName: 'Beth', lastName: 'Barrett' },
                { firstName: 'Mollie', lastName: 'Hayes' },
                { firstName: 'Francesca', lastName: 'Cunningham' },
                { firstName: 'Amelie', lastName: 'Barber' },
                { firstName: 'Lucia', lastName: 'Knight' },
                { firstName: 'Eden', lastName: 'Parsons' },
                { firstName: 'Tilly', lastName: 'Bates' },
                { firstName: 'Holly', lastName: 'Day' },
                { firstName: 'Indie', lastName: 'Francis' },
                { firstName: 'Hope', lastName: 'Burton' }
              ];

              //
              // INIT FUNCTION
              //
              function _init(){

                const patientsButton = document.querySelector('#patientsButton');
                const patientsTextarea = document.querySelector('#patientsTextarea');

                patientsButton.addEventListener('click',function( e ){
                  
                  console.log('Button clicked');

                  patientsTextarea.value = _generatePatientData();

                  e.preventDefault();
                  e.stopPropagation();

                });

              };

              //
              // GENERATE PATIENT DATA FUNCTION
              //
              function _generatePatientData(){

                const patients = [];

                const certificateTypes = document.querySelector('#certificateTypes').innerHTML.split(',');
                const statuses = ['pending','live'];

                names.forEach( function( name ){

                    const obj = name;

                    obj.nhsNumber = _generateNHSNumber();
                    obj.certificateType = certificateTypes[Math.round(Math.random())*(certificateTypes.length-1)];
                    obj.certificateReference = _generateCertificateReference();
                    obj.startDate = _generateStartDate();
                    obj.endDate = _generateEndDate( obj.startDate );
                    obj.status = statuses[Math.round(Math.random()*(statuses.length-1))];

                    patients.push(obj);

                });

                return JSON.stringify( patients );

              };

              //
              // GENERATE CERTIFICATE REFERENCE FUNCTION
              //
              function _generateCertificateReference(){

                const digits = [];
                const loop = (12 + 3) - 1; // 12 digits and 3 spaces

                for( let i = 0; i < loop; i++ ){
                  
                  const spaces = [2,6,10];
                  const char = ( spaces.indexOf(i) > -1 ) ? ' ' : Math.floor( Math.random() * 10 );
                  digits.push( char );

                }

                return digits.join('');

              };

              //
              // GENERATE NHS NUMBER FUNCTION
              //
              function _generateNHSNumber() {

                // Format 000 000 0000
                const digits = [];
                const loop = (10 + 2) - 1; // 10 digits and 2 spaces

                for( let i = 0; i < loop; i++ ){
                  
                  const spaces = [3,7];
                  const char = ( spaces.indexOf(i) > -1 ) ? ' ' : Math.floor( Math.random() * 10 );
                  digits.push( char );

                }

                return digits.join('');

              };

              //
              // GENERATE START DATE
              //
              function _generateStartDate(){

                const today = new Date();
                
                const minMonths = -6;
                const maxMonths = -12;

                // Create date bounds
                const minDate = new Date();
                minDate.setMonth(minDate.getMonth() + minMonths);
                minDate.setHours(0, 0, 0, 0);

                const maxDate = new Date();
                maxDate.setMonth(maxDate.getMonth() + maxMonths);
                maxDate.setHours(0, 0, 0, 0);

                // Pick a random date between them
                const randomTime = minDate.getTime() + Math.random() * (maxDate.getTime() - minDate.getTime());
                const randomDate = new Date(randomTime);

                // Format: "1 November 2023"
                const day = randomDate.getDate();
                const month = randomDate.toLocaleString('en-GB', { month: 'long' });
                const year = randomDate.getFullYear();

                return day + ' ' + month + ' ' + year;

              };

              //
              // GENERATE END DATE FUNCTION
              //
              function _generateEndDate( startDateString ){

                const startDate = new Date( startDateString );
                startDate.setMonth( startDate.getMonth() + 21 );
                startDate.setHours(0, 0, 0, 0);

                const day = startDate.getDate();
                const month = startDate.toLocaleString('en-GB', { month: 'long' });
                const year = startDate.getFullYear();

                return day + ' ' + month + ' ' + year;

              };


              

              return {
                init: _init
              }

            })();

            document.addEventListener('DOMContentLoaded',function(){
              DataGenerator.init();
            });

          </script>

</div>
</div>


  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">



          {{ textarea({
            id: 'patientsTextarea',
            label: {
              text: 'Patient data',
              classes: 'nhsuk-label--m'
            },
            hint: {
              html: '
                <p>Press the button below to generate a fresh set of patient data with JS, that can be copy/pasted and added into the static patientData variable held in the nunjucks on this page.</p>
                <p>This is then used to populate the dynamic results table above, and imported into other prototype pages.</p>'
            }
          }) }}

          {{ button({
            id: 'patientsButton',
            text: 'Generate new data'
          }) }}

      </div>
  </div>

{% endblock %}