{% set patientData = [{"firstName":"Olivia","lastName":"Smith","nhsNumber":"257 932 678","certificateType":"matex","certificateReference":"12 275 518 547","startDate":"1 January 2025","endDate":"1 October 2026","status":"live"},{"firstName":"Amelia","lastName":"Jones","nhsNumber":"291 094 691","certificateType":"hrtppc","certificateReference":"HRT PAGY XDF1","startDate":"9 December 2024","endDate":"9 September 2026","status":"live"},{"firstName":"Isla","lastName":"Taylor","nhsNumber":"498 612 260","certificateType":"hrtppc","certificateReference":"HRT 0TDV L6C5","startDate":"13 January 2025","endDate":"13 October 2026","status":"live"},{"firstName":"Ava","lastName":"Brown","nhsNumber":"648 382 932","certificateType":"hrtppc","certificateReference":"HRT 32HX 742H","startDate":"23 February 2025","endDate":"23 November 2026","status":"live"},{"firstName":"Emily","lastName":"Williams","nhsNumber":"297 426 170","certificateType":"hrtppc","certificateReference":"HRT ZUGC J0UM","startDate":"8 March 2025","endDate":"8 December 2026","status":"live"},{"firstName":"Sophia","lastName":"Wilson","nhsNumber":"090 541 231","certificateType":"hrtppc","certificateReference":"HRT 5GPP F23J","startDate":"25 December 2024","endDate":"25 September 2026","status":"pending"},{"firstName":"Mia","lastName":"Davies","nhsNumber":"178 363 524","certificateType":"matex","certificateReference":"70 955 780 234","startDate":"3 January 2025","endDate":"3 October 2026","status":"live"},{"firstName":"Ella","lastName":"Evans","nhsNumber":"552 351 158","certificateType":"hrtppc","certificateReference":"HRT 2PUQ 73HE","startDate":"12 April 2025","endDate":"12 January 2027","status":"live"},{"firstName":"Grace","lastName":"Thomas","nhsNumber":"538 156 826","certificateType":"matex","certificateReference":"98 329 475 295","startDate":"1 April 2025","endDate":"1 January 2027","status":"live"},{"firstName":"Lily","lastName":"Roberts","nhsNumber":"060 003 542","certificateType":"matex","certificateReference":"11 524 993 538","startDate":"26 April 2025","endDate":"26 January 2027","status":"live"},{"firstName":"Freya","lastName":"Johnson","nhsNumber":"562 102 654","certificateType":"matex","certificateReference":"18 680 590 820","startDate":"6 January 2025","endDate":"6 October 2026","status":"live"},{"firstName":"Charlotte","lastName":"Lewis","nhsNumber":"961 491 437","certificateType":"hrtppc","certificateReference":"HRT FN8H 2C2P","startDate":"15 March 2025","endDate":"15 December 2026","status":"pending"},{"firstName":"Isabella","lastName":"Walker","nhsNumber":"288 036 414","certificateType":"hrtppc","certificateReference":"HRT QT6B MAM3","startDate":"20 April 2025","endDate":"20 January 2027","status":"pending"},{"firstName":"Daisy","lastName":"Hall","nhsNumber":"267 620 697","certificateType":"hrtppc","certificateReference":"HRT M2WI WGXI","startDate":"10 February 2025","endDate":"10 November 2026","status":"live"},{"firstName":"Evie","lastName":"Clarke","nhsNumber":"787 749 155","certificateType":"hrtppc","certificateReference":"HRT 70OQ SHY2","startDate":"7 May 2025","endDate":"7 February 2027","status":"live"},{"firstName":"Phoebe","lastName":"Allen","nhsNumber":"518 003 619","certificateType":"hrtppc","certificateReference":"HRT XUIU 2JHO","startDate":"27 March 2025","endDate":"27 December 2026","status":"live"},{"firstName":"Sophie","lastName":"Young","nhsNumber":"549 115 308","certificateType":"matex","certificateReference":"28 651 595 377","startDate":"26 February 2025","endDate":"26 November 2026","status":"live"},{"firstName":"Harper","lastName":"King","nhsNumber":"133 450 813","certificateType":"hrtppc","certificateReference":"HRT 6BKP EWX9","startDate":"30 November 2024","endDate":"30 August 2026","status":"live"},{"firstName":"Millie","lastName":"Wright","nhsNumber":"621 117 858","certificateType":"matex","certificateReference":"98 188 279 186","startDate":"3 February 2025","endDate":"3 November 2026","status":"live"},{"firstName":"Ella-Rose","lastName":"Green","nhsNumber":"893 436 719","certificateType":"hrtppc","certificateReference":"HRT HGSY 0JV7","startDate":"24 December 2024","endDate":"24 September 2026","status":"live"},{"firstName":"Poppy","lastName":"Baker","nhsNumber":"562 761 257","certificateType":"hrtppc","certificateReference":"HRT TXKK VKTW","startDate":"18 March 2025","endDate":"18 December 2026","status":"live"},{"firstName":"Ruby","lastName":"Adams","nhsNumber":"639 027 195","certificateType":"matex","certificateReference":"68 125 524 523","startDate":"21 December 2024","endDate":"21 September 2026","status":"pending"},{"firstName":"Chloe","lastName":"Mitchell","nhsNumber":"399 179 935","certificateType":"matex","certificateReference":"28 988 250 147","startDate":"5 April 2025","endDate":"5 January 2027","status":"live"},{"firstName":"Sienna","lastName":"Turner","nhsNumber":"823 330 534","certificateType":"hrtppc","certificateReference":"HRT DR0I RLL0","startDate":"27 February 2025","endDate":"27 November 2026","status":"live"},{"firstName":"Willow","lastName":"Carter","nhsNumber":"341 081 872","certificateType":"matex","certificateReference":"64 027 276 201","startDate":"12 March 2025","endDate":"12 December 2026","status":"live"},{"firstName":"Jessica","lastName":"Morris","nhsNumber":"803 308 112","certificateType":"hrtppc","certificateReference":"HRT KYV8 E8G0","startDate":"21 November 2024","endDate":"21 August 2026","status":"live"},{"firstName":"Matilda","lastName":"Hughes","nhsNumber":"331 876 673","certificateType":"matex","certificateReference":"01 552 119 473","startDate":"15 March 2025","endDate":"15 December 2026","status":"pending"},{"firstName":"Elsie","lastName":"Ward","nhsNumber":"112 098 492","certificateType":"matex","certificateReference":"09 979 659 203","startDate":"27 April 2025","endDate":"27 January 2027","status":"live"},{"firstName":"Rosie","lastName":"Price","nhsNumber":"983 566 625","certificateType":"matex","certificateReference":"59 289 198 228","startDate":"14 February 2025","endDate":"14 November 2026","status":"live"},{"firstName":"Aria","lastName":"Cooper","nhsNumber":"195 666 482","certificateType":"matex","certificateReference":"54 709 739 985","startDate":"17 December 2024","endDate":"17 September 2026","status":"live"},{"firstName":"Layla","lastName":"Bailey","nhsNumber":"017 233 642","certificateType":"matex","certificateReference":"56 624 432 038","startDate":"7 March 2025","endDate":"7 December 2026","status":"pending"},{"firstName":"Luna","lastName":"Parker","nhsNumber":"918 587 287","certificateType":"hrtppc","certificateReference":"HRT 8FFL 40WV","startDate":"13 March 2025","endDate":"13 December 2026","status":"live"},{"firstName":"Hannah","lastName":"Phillips","nhsNumber":"634 487 182","certificateType":"matex","certificateReference":"47 912 257 537","startDate":"9 December 2024","endDate":"9 September 2026","status":"live"},{"firstName":"Zara","lastName":"Bennett","nhsNumber":"989 208 441","certificateType":"hrtppc","certificateReference":"HRT 3584 LLUS","startDate":"18 November 2024","endDate":"18 August 2026","status":"live"},{"firstName":"Florence","lastName":"Cox","nhsNumber":"667 869 832","certificateType":"matex","certificateReference":"65 507 858 767","startDate":"16 April 2025","endDate":"16 January 2027","status":"pending"},{"firstName":"Maya","lastName":"Richardson","nhsNumber":"060 349 815","certificateType":"hrtppc","certificateReference":"HRT 0UXS NKI6","startDate":"12 February 2025","endDate":"12 November 2026","status":"pending"},{"firstName":"Esme","lastName":"Gray","nhsNumber":"610 972 613","certificateType":"matex","certificateReference":"40 192 712 414","startDate":"21 November 2024","endDate":"21 August 2026","status":"live"},{"firstName":"Ivy","lastName":"Ross","nhsNumber":"598 455 475","certificateType":"hrtppc","certificateReference":"HRT 4DHH ELKG","startDate":"4 December 2024","endDate":"4 September 2026","status":"live"},{"firstName":"Arabella","lastName":"Bell","nhsNumber":"014 346 355","certificateType":"hrtppc","certificateReference":"HRT M4GH DFMY","startDate":"24 December 2024","endDate":"24 September 2026","status":"live"},{"firstName":"Evelyn","lastName":"Cook","nhsNumber":"519 428 894","certificateType":"matex","certificateReference":"14 630 682 586","startDate":"25 March 2025","endDate":"25 December 2026","status":"live"},{"firstName":"Thea","lastName":"Watson","nhsNumber":"170 865 514","certificateType":"hrtppc","certificateReference":"HRT NA3D PNAJ","startDate":"4 December 2024","endDate":"4 September 2026","status":"live"},{"firstName":"Alice","lastName":"Sanders","nhsNumber":"952 839 669","certificateType":"matex","certificateReference":"10 272 060 365","startDate":"3 March 2025","endDate":"3 December 2026","status":"pending"},{"firstName":"Emma","lastName":"Harrison","nhsNumber":"473 934 147","certificateType":"hrtppc","certificateReference":"HRT H8WO 5GG3","startDate":"17 January 2025","endDate":"17 October 2026","status":"live"},{"firstName":"Lottie","lastName":"Coleman","nhsNumber":"401 310 185","certificateType":"matex","certificateReference":"69 216 779 520","startDate":"7 January 2025","endDate":"7 October 2026","status":"pending"},{"firstName":"Amber","lastName":"Murphy","nhsNumber":"267 925 455","certificateType":"matex","certificateReference":"24 535 571 832","startDate":"23 February 2025","endDate":"23 November 2026","status":"live"},{"firstName":"Scarlett","lastName":"Graham","nhsNumber":"750 748 894","certificateType":"matex","certificateReference":"01 967 866 881","startDate":"22 April 2025","endDate":"22 January 2027","status":"live"},{"firstName":"Bonnie","lastName":"Stevens","nhsNumber":"086 167 868","certificateType":"matex","certificateReference":"99 858 337 650","startDate":"22 April 2025","endDate":"22 January 2027","status":"live"},{"firstName":"Imogen","lastName":"Simpson","nhsNumber":"876 460 341","certificateType":"hrtppc","certificateReference":"HRT 2RKN BO98","startDate":"5 April 2025","endDate":"5 January 2027","status":"pending"},{"firstName":"Harriet","lastName":"Butler","nhsNumber":"008 141 620","certificateType":"matex","certificateReference":"45 433 604 610","startDate":"17 January 2025","endDate":"17 October 2026","status":"live"},{"firstName":"Eleanor","lastName":"Chapman","nhsNumber":"227 892 119","certificateType":"hrtppc","certificateReference":"HRT FT8J EJQF","startDate":"12 May 2025","endDate":"12 February 2027","status":"pending"},{"firstName":"Aisha","lastName":"Ali","nhsNumber":"975 372 919","certificateType":"matex","certificateReference":"76 371 723 148","startDate":"24 December 2024","endDate":"24 September 2026","status":"live"},{"firstName":"Sofia","lastName":"Hussain","nhsNumber":"885 315 436","certificateType":"matex","certificateReference":"14 127 144 269","startDate":"24 February 2025","endDate":"24 November 2026","status":"pending"},{"firstName":"Amira","lastName":"Khan","nhsNumber":"409 269 791","certificateType":"hrtppc","certificateReference":"HRT MLPK F61K","startDate":"31 December 2024","endDate":"1 October 2026","status":"pending"},{"firstName":"Leah","lastName":"Begum","nhsNumber":"331 761 889","certificateType":"matex","certificateReference":"45 212 146 977","startDate":"27 April 2025","endDate":"27 January 2027","status":"pending"},{"firstName":"Niamh","lastName":"O’Connor","nhsNumber":"796 820 954","certificateType":"matex","certificateReference":"24 949 873 574","startDate":"7 April 2025","endDate":"7 January 2027","status":"live"},{"firstName":"Aoife","lastName":"Kelly","nhsNumber":"133 033 590","certificateType":"matex","certificateReference":"86 543 163 224","startDate":"25 November 2024","endDate":"25 August 2026","status":"pending"},{"firstName":"Erin","lastName":"McCarthy","nhsNumber":"375 179 446","certificateType":"matex","certificateReference":"42 920 869 090","startDate":"27 November 2024","endDate":"27 August 2026","status":"live"},{"firstName":"Orla","lastName":"Doyle","nhsNumber":"475 209 844","certificateType":"hrtppc","certificateReference":"HRT 58YY R050","startDate":"11 March 2025","endDate":"11 December 2026","status":"live"},{"firstName":"Cerys","lastName":"Griffiths","nhsNumber":"627 974 130","certificateType":"matex","certificateReference":"50 331 739 823","startDate":"14 April 2025","endDate":"14 January 2027","status":"pending"},{"firstName":"Megan","lastName":"Rees","nhsNumber":"267 144 767","certificateType":"hrtppc","certificateReference":"HRT AFJH NSCD","startDate":"10 May 2025","endDate":"10 February 2027","status":"live"},{"firstName":"Ffion","lastName":"Evans","nhsNumber":"038 166 000","certificateType":"matex","certificateReference":"51 644 002 317","startDate":"28 January 2025","endDate":"28 October 2026","status":"live"},{"firstName":"Eilidh","lastName":"MacDonald","nhsNumber":"782 372 960","certificateType":"matex","certificateReference":"08 421 153 187","startDate":"2 February 2025","endDate":"2 November 2026","status":"pending"},{"firstName":"Skye","lastName":"Fraser","nhsNumber":"865 069 036","certificateType":"matex","certificateReference":"47 644 651 802","startDate":"20 January 2025","endDate":"20 October 2026","status":"live"},{"firstName":"Maisie","lastName":"Armstrong","nhsNumber":"450 664 213","certificateType":"hrtppc","certificateReference":"HRT H7CI TQIB","startDate":"12 February 2025","endDate":"12 November 2026","status":"pending"},{"firstName":"Penelope","lastName":"Hunter","nhsNumber":"271 434 244","certificateType":"matex","certificateReference":"38 641 863 538","startDate":"18 April 2025","endDate":"18 January 2027","status":"pending"},{"firstName":"Clara","lastName":"Lawrence","nhsNumber":"471 323 166","certificateType":"hrtppc","certificateReference":"HRT KIQL BGA5","startDate":"30 March 2025","endDate":"30 December 2026","status":"live"},{"firstName":"Beatrice","lastName":"Spencer","nhsNumber":"922 884 806","certificateType":"matex","certificateReference":"01 044 854 601","startDate":"22 March 2025","endDate":"22 December 2026","status":"live"},{"firstName":"Nancy","lastName":"Rogers","nhsNumber":"512 302 862","certificateType":"hrtppc","certificateReference":"HRT C8VN 1SK6","startDate":"17 April 2025","endDate":"17 January 2027","status":"pending"},{"firstName":"Annabelle","lastName":"Watts","nhsNumber":"456 990 554","certificateType":"hrtppc","certificateReference":"HRT XW71 LDET","startDate":"25 December 2024","endDate":"25 September 2026","status":"live"},{"firstName":"Heidi","lastName":"Henderson","nhsNumber":"200 840 584","certificateType":"matex","certificateReference":"87 227 840 675","startDate":"18 January 2025","endDate":"18 October 2026","status":"pending"},{"firstName":"Rose","lastName":"Palmer","nhsNumber":"571 132 415","certificateType":"hrtppc","certificateReference":"HRT 7Q5W SAZU","startDate":"25 December 2024","endDate":"25 September 2026","status":"pending"},{"firstName":"Lara","lastName":"Nicholson","nhsNumber":"725 825 614","certificateType":"matex","certificateReference":"72 423 660 317","startDate":"22 February 2025","endDate":"22 November 2026","status":"pending"},{"firstName":"Julia","lastName":"Gardner","nhsNumber":"392 844 810","certificateType":"hrtppc","certificateReference":"HRT HYVR 1IX3","startDate":"13 December 2024","endDate":"13 September 2026","status":"live"},{"firstName":"Ada","lastName":"Newton","nhsNumber":"285 658 913","certificateType":"hrtppc","certificateReference":"HRT ZKNU P2S1","startDate":"19 December 2024","endDate":"19 September 2026","status":"pending"},{"firstName":"Summer","lastName":"Reed","nhsNumber":"568 505 561","certificateType":"hrtppc","certificateReference":"HRT FXX7 PC4R","startDate":"3 February 2025","endDate":"3 November 2026","status":"live"},{"firstName":"Victoria","lastName":"Harvey","nhsNumber":"777 340 156","certificateType":"matex","certificateReference":"76 579 995 472","startDate":"18 February 2025","endDate":"18 November 2026","status":"pending"},{"firstName":"Maria","lastName":"Fernandez","nhsNumber":"337 126 161","certificateType":"matex","certificateReference":"25 906 739 924","startDate":"19 March 2025","endDate":"19 December 2026","status":"pending"},{"firstName":"Elena","lastName":"Silva","nhsNumber":"749 049 765","certificateType":"hrtppc","certificateReference":"HRT VR4U 79LR","startDate":"23 January 2025","endDate":"23 October 2026","status":"pending"},{"firstName":"Leila","lastName":"Patel","nhsNumber":"467 692 052","certificateType":"matex","certificateReference":"39 236 696 419","startDate":"26 December 2024","endDate":"26 September 2026","status":"pending"},{"firstName":"Fatima","lastName":"Iqbal","nhsNumber":"336 815 919","certificateType":"hrtppc","certificateReference":"HRT 1J62 9Y7F","startDate":"15 April 2025","endDate":"15 January 2027","status":"live"},{"firstName":"Jasmine","lastName":"Ahmed","nhsNumber":"272 015 617","certificateType":"hrtppc","certificateReference":"HRT GADZ GFL3","startDate":"27 April 2025","endDate":"27 January 2027","status":"pending"},{"firstName":"Nadia","lastName":"Rashid","nhsNumber":"964 897 301","certificateType":"hrtppc","certificateReference":"HRT 1MJQ 3X0J","startDate":"10 January 2025","endDate":"10 October 2026","status":"pending"},{"firstName":"Tara","lastName":"Paterson","nhsNumber":"127 408 529","certificateType":"matex","certificateReference":"39 157 592 414","startDate":"5 May 2025","endDate":"5 February 2027","status":"live"},{"firstName":"Bethany","lastName":"Foster","nhsNumber":"832 021 833","certificateType":"matex","certificateReference":"75 008 959 839","startDate":"2 February 2025","endDate":"2 November 2026","status":"pending"},{"firstName":"Lauren","lastName":"Fox","nhsNumber":"573 342 323","certificateType":"hrtppc","certificateReference":"HRT 7B8P B6N9","startDate":"24 March 2025","endDate":"24 December 2026","status":"live"},{"firstName":"Georgia","lastName":"Grant","nhsNumber":"042 618 573","certificateType":"matex","certificateReference":"53 985 699 909","startDate":"1 March 2025","endDate":"1 December 2026","status":"live"},{"firstName":"Abigail","lastName":"Murray","nhsNumber":"557 951 319","certificateType":"hrtppc","certificateReference":"HRT ZUU5 Z4IH","startDate":"28 November 2024","endDate":"28 August 2026","status":"pending"},{"firstName":"Ella-May","lastName":"West","nhsNumber":"367 786 595","certificateType":"matex","certificateReference":"89 423 400 887","startDate":"29 November 2024","endDate":"29 August 2026","status":"live"},{"firstName":"Robyn","lastName":"Matthews","nhsNumber":"120 314 830","certificateType":"matex","certificateReference":"60 282 388 509","startDate":"2 May 2025","endDate":"2 February 2027","status":"pending"},{"firstName":"Kayla","lastName":"Holmes","nhsNumber":"584 495 811","certificateType":"matex","certificateReference":"87 258 748 979","startDate":"8 February 2025","endDate":"8 November 2026","status":"live"},{"firstName":"Lydia","lastName":"Walsh","nhsNumber":"956 269 907","certificateType":"hrtppc","certificateReference":"HRT 1T1L 12GX","startDate":"15 April 2025","endDate":"15 January 2027","status":"live"},{"firstName":"Alexandra","lastName":"Page","nhsNumber":"331 039 406","certificateType":"matex","certificateReference":"71 002 471 929","startDate":"20 January 2025","endDate":"20 October 2026","status":"pending"},{"firstName":"Natalie","lastName":"Jordan","nhsNumber":"317 151 672","certificateType":"hrtppc","certificateReference":"HRT GU2A PQXN","startDate":"15 November 2024","endDate":"15 August 2026","status":"live"},{"firstName":"Beth","lastName":"Barrett","nhsNumber":"149 515 610","certificateType":"matex","certificateReference":"76 704 109 180","startDate":"17 January 2025","endDate":"17 October 2026","status":"live"},{"firstName":"Mollie","lastName":"Hayes","nhsNumber":"462 458 505","certificateType":"matex","certificateReference":"58 325 977 141","startDate":"1 April 2025","endDate":"1 January 2027","status":"pending"},{"firstName":"Francesca","lastName":"Cunningham","nhsNumber":"875 810 439","certificateType":"hrtppc","certificateReference":"HRT 8FC2 ZEJ3","startDate":"3 May 2025","endDate":"3 February 2027","status":"pending"},{"firstName":"Amelie","lastName":"Barber","nhsNumber":"360 202 534","certificateType":"hrtppc","certificateReference":"HRT 2EO1 YKWD","startDate":"20 February 2025","endDate":"20 November 2026","status":"live"},{"firstName":"Lucia","lastName":"Knight","nhsNumber":"066 852 419","certificateType":"matex","certificateReference":"96 726 214 207","startDate":"28 January 2025","endDate":"28 October 2026","status":"pending"},{"firstName":"Eden","lastName":"Parsons","nhsNumber":"017 626 404","certificateType":"hrtppc","certificateReference":"HRT 405V OEOZ","startDate":"19 February 2025","endDate":"19 November 2026","status":"live"},{"firstName":"Tilly","lastName":"Bates","nhsNumber":"287 611 540","certificateType":"matex","certificateReference":"06 676 162 325","startDate":"18 March 2025","endDate":"18 December 2026","status":"pending"},{"firstName":"Holly","lastName":"Day","nhsNumber":"691 459 704","certificateType":"matex","certificateReference":"85 145 891 720","startDate":"4 March 2025","endDate":"4 December 2026","status":"pending"},{"firstName":"Indie","lastName":"Francis","nhsNumber":"852 711 344","certificateType":"matex","certificateReference":"56 366 032 381","startDate":"25 December 2024","endDate":"25 September 2026","status":"live"},{"firstName":"Hope","lastName":"Burton","nhsNumber":"136 407 947","certificateType":"matex","certificateReference":"11 028 701 066","startDate":"27 January 2025","endDate":"27 October 2026","status":"live"}] %}

{% extends 'layout.html' %}

{% set pageName = 'Fake patient data' %}

{% block content %}

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

          <h1 class="nhsuk-heading-l">{{ pageName }}</h1>

          {{ table({
            panel: false,
            caption: 'Exemptions',
            firstCellIsHeader: false,
            responsive: true,
            head: [
              { text: 'Name' },
              { text: 'Exemption' },
              { text: 'Status' },
              { text: 'Reference' },
              { text: 'End date' }
            ],
            rows: patientData | getTableRows
          }) }}

          {{ pagination( '' | getPaginationLinks ) }}


          <p id="certificateTypes" class="nhsuk-u-visually-hidden">{% for type in data[version].certificateTypes %}{% if loop.index0 !== 0 %},{% endif %}{{ type }}{% endfor %}</p>

          <script>

            const DataGenerator = (function(){

              //
              // NAMES
              //
              const names = [
                { firstName: 'Olivia', lastName: 'Smith' },
                { firstName: 'Amelia', lastName: 'Jones' },
                { firstName: 'Isla', lastName: 'Taylor' },
                { firstName: 'Ava', lastName: 'Brown' },
                { firstName: 'Emily', lastName: 'Williams' },
                { firstName: 'Sophia', lastName: 'Wilson' },
                { firstName: 'Mia', lastName: 'Davies' },
                { firstName: 'Ella', lastName: 'Evans' },
                { firstName: 'Grace', lastName: 'Thomas' },
                { firstName: 'Lily', lastName: 'Roberts' },
                { firstName: 'Freya', lastName: 'Johnson' },
                { firstName: 'Charlotte', lastName: 'Lewis' },
                { firstName: 'Isabella', lastName: 'Walker' },
                { firstName: 'Daisy', lastName: 'Hall' },
                { firstName: 'Evie', lastName: 'Clarke' },
                { firstName: 'Phoebe', lastName: 'Allen' },
                { firstName: 'Sophie', lastName: 'Young' },
                { firstName: 'Harper', lastName: 'King' },
                { firstName: 'Millie', lastName: 'Wright' },
                { firstName: 'Ella-Rose', lastName: 'Green' },
                { firstName: 'Poppy', lastName: 'Baker' },
                { firstName: 'Ruby', lastName: 'Adams' },
                { firstName: 'Chloe', lastName: 'Mitchell' },
                { firstName: 'Sienna', lastName: 'Turner' },
                { firstName: 'Willow', lastName: 'Carter' },
                { firstName: 'Jessica', lastName: 'Morris' },
                { firstName: 'Matilda', lastName: 'Hughes' },
                { firstName: 'Elsie', lastName: 'Ward' },
                { firstName: 'Rosie', lastName: 'Price' },
                { firstName: 'Aria', lastName: 'Cooper' },
                { firstName: 'Layla', lastName: 'Bailey' },
                { firstName: 'Luna', lastName: 'Parker' },
                { firstName: 'Hannah', lastName: 'Phillips' },
                { firstName: 'Zara', lastName: 'Bennett' },
                { firstName: 'Florence', lastName: 'Cox' },
                { firstName: 'Maya', lastName: 'Richardson' },
                { firstName: 'Esme', lastName: 'Gray' },
                { firstName: 'Ivy', lastName: 'Ross' },
                { firstName: 'Arabella', lastName: 'Bell' },
                { firstName: 'Evelyn', lastName: 'Cook' },
                { firstName: 'Thea', lastName: 'Watson' },
                { firstName: 'Alice', lastName: 'Sanders' },
                { firstName: 'Emma', lastName: 'Harrison' },
                { firstName: 'Lottie', lastName: 'Coleman' },
                { firstName: 'Amber', lastName: 'Murphy' },
                { firstName: 'Scarlett', lastName: 'Graham' },
                { firstName: 'Bonnie', lastName: 'Stevens' },
                { firstName: 'Imogen', lastName: 'Simpson' },
                { firstName: 'Harriet', lastName: 'Butler' },
                { firstName: 'Eleanor', lastName: 'Chapman' },
                { firstName: 'Aisha', lastName: 'Ali' },
                { firstName: 'Sofia', lastName: 'Hussain' },
                { firstName: 'Amira', lastName: 'Khan' },
                { firstName: 'Leah', lastName: 'Begum' },
                { firstName: 'Niamh', lastName: 'O’Connor' },
                { firstName: 'Aoife', lastName: 'Kelly' },
                { firstName: 'Erin', lastName: 'McCarthy' },
                { firstName: 'Orla', lastName: 'Doyle' },
                { firstName: 'Cerys', lastName: 'Griffiths' },
                { firstName: 'Megan', lastName: 'Rees' },
                { firstName: 'Ffion', lastName: 'Evans' },
                { firstName: 'Eilidh', lastName: 'MacDonald' },
                { firstName: 'Skye', lastName: 'Fraser' },
                { firstName: 'Maisie', lastName: 'Armstrong' },
                { firstName: 'Penelope', lastName: 'Hunter' },
                { firstName: 'Clara', lastName: 'Lawrence' },
                { firstName: 'Beatrice', lastName: 'Spencer' },
                { firstName: 'Nancy', lastName: 'Rogers' },
                { firstName: 'Annabelle', lastName: 'Watts' },
                { firstName: 'Heidi', lastName: 'Henderson' },
                { firstName: 'Rose', lastName: 'Palmer' },
                { firstName: 'Lara', lastName: 'Nicholson' },
                { firstName: 'Julia', lastName: 'Gardner' },
                { firstName: 'Ada', lastName: 'Newton' },
                { firstName: 'Summer', lastName: 'Reed' },
                { firstName: 'Victoria', lastName: 'Harvey' },
                { firstName: 'Maria', lastName: 'Fernandez' },
                { firstName: 'Elena', lastName: 'Silva' },
                { firstName: 'Leila', lastName: 'Patel' },
                { firstName: 'Fatima', lastName: 'Iqbal' },
                { firstName: 'Jasmine', lastName: 'Ahmed' },
                { firstName: 'Nadia', lastName: 'Rashid' },
                { firstName: 'Tara', lastName: 'Paterson' },
                { firstName: 'Bethany', lastName: 'Foster' },
                { firstName: 'Lauren', lastName: 'Fox' },
                { firstName: 'Georgia', lastName: 'Grant' },
                { firstName: 'Abigail', lastName: 'Murray' },
                { firstName: 'Ella-May', lastName: 'West' },
                { firstName: 'Robyn', lastName: 'Matthews' },
                { firstName: 'Kayla', lastName: 'Holmes' },
                { firstName: 'Lydia', lastName: 'Walsh' },
                { firstName: 'Alexandra', lastName: 'Page' },
                { firstName: 'Natalie', lastName: 'Jordan' },
                { firstName: 'Beth', lastName: 'Barrett' },
                { firstName: 'Mollie', lastName: 'Hayes' },
                { firstName: 'Francesca', lastName: 'Cunningham' },
                { firstName: 'Amelie', lastName: 'Barber' },
                { firstName: 'Lucia', lastName: 'Knight' },
                { firstName: 'Eden', lastName: 'Parsons' },
                { firstName: 'Tilly', lastName: 'Bates' },
                { firstName: 'Holly', lastName: 'Day' },
                { firstName: 'Indie', lastName: 'Francis' },
                { firstName: 'Hope', lastName: 'Burton' }
              ];

              //
              // INIT FUNCTION
              //
              function _init(){

                const patientsButton = document.querySelector('#patientsButton');
                const patientsTextarea = document.querySelector('#patientsTextarea');

                patientsButton.addEventListener('click',function( e ){
                  
                  console.log('Button clicked');

                  patientsTextarea.value = _generatePatientData();

                  e.preventDefault();
                  e.stopPropagation();

                });

              };

              //
              // GENERATE PATIENT DATA FUNCTION
              //
              function _generatePatientData(){

                const patients = [];

                const certificateTypes = document.querySelector('#certificateTypes').innerHTML.split(',');
                const statuses = ['pending','live'];

                names.forEach( function( name ){

                    const obj = name;

                    obj.nhsNumber = _generateNHSNumber();
                    obj.certificateType = certificateTypes[Math.round(Math.random())*(certificateTypes.length-1)];
                    obj.certificateReference = _generateCertificateReference( obj.certificateType );
                    obj.startDate = _generateStartDate();
                    obj.endDate = _generateEndDate( obj.startDate );
                    obj.status = statuses[Math.round(Math.random()*(statuses.length-1))];

                    patients.push(obj);

                });

                return JSON.stringify( patients );

              };

              //
              // GENERATE CERTIFICATE REFERENCE FUNCTION
              //
              function _generateCertificateReference( certificateType ){

                let chars = [];
                let loop = 0;
                let spaces = [];
                let char = '';
                let az09 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'.split('');

                switch( certificateType ) {
                  
                  case 'matex':

                    loop = (12 + 3) - 1; // 12 digits and 3 spaces
                    spaces = [2,6,10];

                    for( let i = 0; i < loop; i++ ){  
                      char = ( spaces.indexOf(i) > -1 ) ? ' ' : Math.floor( Math.random() * 10 );
                      chars.push( char );
                    }
                    
                    break;

                  case 'hrtppc':

                    chars = ['HRT ']; // Always start with HRT
                    loop = ( 8 + 1 ); // 8 characters and 1 space
                    spaces = [4];

                    

                    for( let i = 0; i < loop; i++ ){ 
                      char = ( spaces.indexOf(i) > -1 ) ? ' ' : az09[Math.round(Math.random()*(az09.length-1))];
                      chars.push( char );
                    }


                    break;

                }
              
               return chars.join('');

              };

              //
              // GENERATE NHS NUMBER FUNCTION
              //
              function _generateNHSNumber() {

                // Format 000 000 0000
                const digits = [];
                const loop = (10 + 2) - 1; // 10 digits and 2 spaces

                for( let i = 0; i < loop; i++ ){
                  
                  const spaces = [3,7];
                  const char = ( spaces.indexOf(i) > -1 ) ? ' ' : Math.floor( Math.random() * 10 );
                  digits.push( char );

                }

                return digits.join('');

              };

              //
              // GENERATE START DATE
              //
              function _generateStartDate(){

                const today = new Date();
                
                const minMonths = -6;
                const maxMonths = -12;

                // Create date bounds
                const minDate = new Date();
                minDate.setMonth(minDate.getMonth() + minMonths);
                minDate.setHours(0, 0, 0, 0);

                const maxDate = new Date();
                maxDate.setMonth(maxDate.getMonth() + maxMonths);
                maxDate.setHours(0, 0, 0, 0);

                // Pick a random date between them
                const randomTime = minDate.getTime() + Math.random() * (maxDate.getTime() - minDate.getTime());
                const randomDate = new Date(randomTime);

                // Format: "1 November 2023"
                const day = randomDate.getDate();
                const month = randomDate.toLocaleString('en-GB', { month: 'long' });
                const year = randomDate.getFullYear();

                return day + ' ' + month + ' ' + year;

              };

              //
              // GENERATE END DATE FUNCTION
              //
              function _generateEndDate( startDateString ){

                const startDate = new Date( startDateString );
                startDate.setMonth( startDate.getMonth() + 21 );
                startDate.setHours(0, 0, 0, 0);

                const day = startDate.getDate();
                const month = startDate.toLocaleString('en-GB', { month: 'long' });
                const year = startDate.getFullYear();

                return day + ' ' + month + ' ' + year;

              };


              

              return {
                init: _init
              }

            })();

            document.addEventListener('DOMContentLoaded',function(){
              DataGenerator.init();
            });

          </script>

</div>
</div>


  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">



          {{ textarea({
            id: 'patientsTextarea',
            label: {
              text: 'Patient data',
              classes: 'nhsuk-label--m'
            },
            hint: {
              html: '
                <p>Press the button below to generate a fresh set of patient data with JS, that can be copy/pasted and added into the static patientData variable held in the nunjucks on this page.</p>
                <p>This is then used to populate the dynamic results table above, and imported into other prototype pages.</p>'
            }
          }) }}

          {{ button({
            id: 'patientsButton',
            text: 'Generate new data'
          }) }}

      </div>
  </div>

{% endblock %}